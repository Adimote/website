@import "base";

$column-count: 12;
$breakpoints: (
        small: 767px,
        medium: 992px,
        large: 1200px
);

@mixin media-query($breakpoint) {
  @if map-has-key($breakpoints, $breakpoint) {
    @media (min-width: #{map-get($breakpoints, $breakpoint)}) {
      @content;
    }
  }
}

$media-sizes: (
                ("s", "small"),
                ("m", "medium"),
                ("l", "large"),
                ("d", "default")
);

@mixin column($numerator, $denominator) {
  box-sizing: border-box;
  width: ($numerator / $denominator * 100%);
  float: left;
  padding-left: $spacing / 2;
  padding-right: $spacing / 2;
}

@mixin offset($numerator, $denominator) {
  margin-left: ($numerator / $denominator) * 100%;
}

.row {
  max-width: 100%;
  margin-left: auto;
  margin-right: auto;
  overflow: hidden;
}

@each $size-tuple in $media-sizes {
  $size-key: nth($size-tuple, 1);
  $size-value: nth($size-tuple, 2);

  @for $i from 1 through $column-count - 1 {
    .#{$size-key}-#{$i}-#{$column-count} {
      @if $size-value != "default" {
        @include media-query($size-value) {
          @include column($i, $column-count);
        }
      } @else {
        @include column($i, $column-count);
      }
    }

    .#{$size-key}-offset-#{$i}-#{$column-count} {
      @if $size-value != "default" {
        @include media-query($size-value) {
          @include offset($i, $column-count);
        }
      } @else {
        @include offset($i, $column-count);
      }
    }
  }
}
